import { Tooltip } from '@nextui-org/react';
import { useNavigate } from 'react-router-dom';
import { UserAvatar } from 'widgets';
import { useAppSelector } from 'shared/index';

import './styles.scss'

export const AppSidebar = () => {
    const navigator = useNavigate()

    const user = useAppSelector((state) => state.user)

    return <div className={'app-sidebar'}>
        <div className='app-sidebar--header'>
            <div className='app-sidebar--logo'>
                <svg width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M30.8824 0H11.1176C4.97754 0 0 4.97754 0 11.1176V30.8824C0 37.0225 4.97754 42 11.1176 42H30.8824C37.0225 42 42 37.0225 42 30.8824V11.1176C42 4.97754 37.0225 0 30.8824 0Z" fill="#ECEDEE"/>
                    <path d="M23.0561 12.0978H24.6893V23.9404C24.7083 25.0856 24.4122 26.214 23.8335 27.2024C23.2627 28.1604 22.4394 28.943 21.4536 29.4644C20.4376 30.0146 19.257 30.2897 17.9118 30.2897C16.5727 30.2897 15.3935 30.0132 14.3744 29.4601C13.3883 28.9378 12.564 28.1555 11.9908 27.198C11.4117 26.2114 11.1156 25.0843 11.135 23.9404V12.0978H12.7685V23.8269C12.7528 24.7141 12.9728 25.5896 13.406 26.364C13.8286 27.104 14.4502 27.7107 15.2003 28.1151C15.9715 28.5401 16.8754 28.7526 17.9121 28.7526C18.9489 28.7526 19.8543 28.5401 20.6282 28.1151C21.3797 27.7124 22.0019 27.1053 22.423 26.364C22.8535 25.5887 23.0719 24.7136 23.0561 23.8269V12.0978ZM31.0735 12.0978V29.9841H29.4404V12.0978H31.0735Z" fill="#001731"/>
                </svg>
            </div>
            <nav className='app-sidebar-navigation'>
                <Tooltip radius="sm" content="Панель управления" closeDelay={100}>
                    <button className='app-sidebar-navigation--button' onClick={() => navigator('/application')} >
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fillRule="evenodd" clipRule="evenodd" d="M12.0031 8C12.0031 9.65685 10.6595 11 9.00214 11C7.34479 11 6.00124 9.65685 6.00124 8C6.00124 6.34315 7.34479 5 9.00214 5C10.6595 5 12.0031 6.34315 12.0031 8ZM16.5044 7C15.1233 7 14.0037 8.11929 14.0037 9.5C14.0037 10.8807 15.1233 12 16.5044 12C17.8855 12 19.0052 10.8807 19.0052 9.5C19.0052 8.11929 17.8855 7 16.5044 7ZM14.4538 14.66C13.9448 13.6408 12.9024 12.9978 11.763 13H6.24131C5.10186 12.9978 4.05945 13.6408 3.55049 14.66L2.11006 17.55C1.95404 17.8595 1.96947 18.2277 2.15083 18.5231C2.3322 18.8185 2.65363 18.999 3.00033 19H15.004C15.3507 18.999 15.6721 18.8185 15.8535 18.5231C16.0348 18.2277 16.0502 17.8595 15.8942 17.55L14.4538 14.66ZM20.9458 15.65L21.896 17.55C22.0521 17.8595 22.0366 18.2277 21.8553 18.5231C21.6739 18.8185 21.3525 18.999 21.0058 19H17.8348C18.1044 18.2319 18.0503 17.3874 17.6848 16.66L16.3544 14H18.2649C19.3986 13.9997 20.4356 14.638 20.9458 15.65Z" fill="#ECEDEE"/>
                        </svg>
                    </button>
                </Tooltip>
                {user.userRole === "Manager" || user.userRole === "RManager"
                    ? <Tooltip radius="sm" content="Шаблоны" closeDelay={100}>
                        <button className='app-sidebar-navigation--button' onClick={() => navigator('/application/templates')}>
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path fillRule="evenodd" clipRule="evenodd" d="M19 16C19 17.1046 18.1046 18 17 18H3C1.89543 18 1 17.1046 1 16V5C1 3.89543 1.89543 3 3 3H9.59C9.85234 3.0011 10.1037 3.10526 10.29 3.29L11.71 4.71C11.8963 4.89474 12.1477 4.9989 12.41 5H17C18.1046 5 19 5.89543 19 7V16ZM21 18V9C22.1046 9 23 9.89543 23 11V18C23 20.2091 21.2091 22 19 22H7C5.89543 22 5 21.1046 5 20H19C20.1046 20 21 19.1046 21 18Z" fill="#ECEDEE"/>
                            </svg>
                        </button>
                    </Tooltip>
                    : <></>
                }
                {user.userRole === "Admin"
                    ? <Tooltip radius="sm" content="Аналитика" closeDelay={100}>
                        <button className='app-sidebar-navigation--button' onClick={() => navigator('/application/analytics')} >
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path fillRule="evenodd" clipRule="evenodd" d="M20 5V15C20 15.5523 19.5523 16 19 16H17C16.4477 16 16 15.5523 16 15V5C16 4.44772 16.4477 4 17 4H19C19.5523 4 20 4.44772 20 5ZM13 8C13.5523 8 14 8.44772 14 9V15C14 15.5523 13.5523 16 13 16H11C10.4477 16 10 15.5523 10 15V9C10 8.44772 10.4477 8 11 8H13ZM5 16H7C7.55228 16 8 15.5523 8 15V13C8 12.4477 7.55228 12 7 12H5C4.44772 12 4 12.4477 4 13V15C4 15.5523 4.44772 16 5 16ZM22 19.5V18.5C22 18.2239 21.7761 18 21.5 18H2.5C2.22386 18 2 18.2239 2 18.5V19.5C2 19.7761 2.22386 20 2.5 20H21.5C21.7761 20 22 19.7761 22 19.5Z" fill="#ECEDEE"/>
                            </svg>
                        </button>
                    </Tooltip>
                    : <></>
                }
            </nav>
        </div>
        <div className='app-sidebar--footer'>
            <Tooltip radius="sm" content="Настройки" closeDelay={100}>
                <button className='app-sidebar-navigation--button' onClick={() => navigator('/application/options')}>
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fillRule="evenodd" clipRule="evenodd" d="M20.21 14.0741C19.725 13.6707 19.4581 13.0617 19.49 12.4309V12V11.5691C19.4581 10.9383 19.725 10.3293 20.21 9.92587L21.01 9.26455C21.3862 8.95336 21.4834 8.41563 21.24 7.99202L20.08 5.98803C19.9025 5.67987 19.5751 5.48918 19.22 5.48703C19.0997 5.48502 18.9803 5.50894 18.87 5.55717L17.87 5.91789C17.647 6.00535 17.4095 6.04955 17.17 6.04815C16.7868 6.04715 16.4119 5.93586 16.09 5.72751C15.8549 5.56478 15.6075 5.42072 15.35 5.29665C14.7873 5.0075 14.3942 4.46873 14.29 3.84376L14.12 2.84176C14.0408 2.35173 13.6154 1.9937 13.12 2.00008H10.82C10.3246 1.9937 9.89925 2.35173 9.82002 2.84176L9.65002 3.84376C9.5545 4.46084 9.17736 4.99804 8.63002 5.29665C8.37252 5.42072 8.1251 5.56478 7.89002 5.72751C7.56811 5.93586 7.19324 6.04715 6.81002 6.04815C6.57056 6.04955 6.33301 6.00535 6.11002 5.91789L5.11002 5.55717C4.99971 5.50894 4.88035 5.48502 4.76002 5.48703C4.40491 5.48918 4.07757 5.67987 3.90002 5.98803L2.76002 7.99202C2.51894 8.41797 2.62044 8.95612 3.00002 9.26455L3.80002 9.92587C4.28507 10.3293 4.55189 10.9383 4.52002 11.5691V12V12.4309C4.55189 13.0617 4.28507 13.6707 3.80002 14.0741L3.00002 14.7354C2.62044 15.0439 2.51894 15.582 2.76002 16.008L3.92002 18.012C4.09757 18.3201 4.42491 18.5108 4.78002 18.513C4.90035 18.515 5.01971 18.4911 5.13002 18.4428L6.13002 18.0821C6.35301 17.9947 6.59056 17.9504 6.83002 17.9519C7.21324 17.9528 7.58811 18.0641 7.91002 18.2725C8.1451 18.4352 8.39252 18.5793 8.65002 18.7034C9.21272 18.9925 9.60579 19.5313 9.71002 20.1562L9.88002 21.1582C9.95925 21.6483 10.3846 22.0063 10.88 21.9999H13.18C13.6754 22.0063 14.1008 21.6483 14.18 21.1582L14.35 20.1562C14.4542 19.5313 14.8473 18.9925 15.41 18.7034C15.6675 18.5793 15.9149 18.4352 16.15 18.2725C16.4719 18.0641 16.8468 17.9528 17.23 17.9519C17.4695 17.9504 17.707 17.9947 17.93 18.0821L18.93 18.4428C19.0403 18.4911 19.1597 18.515 19.28 18.513C19.6351 18.5108 19.9625 18.3201 20.14 18.012L21.3 16.008C21.5281 15.5679 21.4005 15.0268 21 14.7354L20.21 14.0741ZM12 17.511C8.96245 17.511 6.50002 15.0436 6.50002 12C6.50002 8.95637 8.96245 6.48902 12 6.48902C15.0376 6.48902 17.5 8.95637 17.5 12C17.5 13.4616 16.9206 14.8633 15.8891 15.8968C14.8577 16.9304 13.4587 17.511 12 17.511ZM10 12C10 10.8932 10.8954 9.99601 12 9.99601C13.1046 9.99601 14 10.8932 14 12C14 13.1068 13.1046 14.004 12 14.004C10.8954 14.004 10 13.1068 10 12Z" fill="#ECEDEE"/>
                    </svg>
                </button>
            </Tooltip>
            <UserAvatar userId={user.userId} userFio={user.userFio}/>
        </div>
    </div>
}